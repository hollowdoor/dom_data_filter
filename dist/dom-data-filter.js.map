{"version":3,"file":"dom-data-filter.js","sources":["../node_modules/object-assign/index.js","../node_modules/char-tree/dist/bundle.es.js","../node_modules/dom-is-element/dist/bundle.es.js","../node_modules/dom-get-element/dist/bundle.es.js","../node_modules/dom-event-dispatch/dist/bundle.es.js","../node_modules/dom-toggle-mixin/dist/bundle.es.js","../src/index.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import objectAssign from 'object-assign';\n\nvar CharTree = function CharTree(){\n    this.tree = {branches: {}, items: []};\n};\nCharTree.prototype.empty = function empty (){\n    this.tree = {branches: {}, items: []};\n};\nCharTree.prototype.push = function push (){\n        var this$1 = this;\n        var datas = [], len = arguments.length;\n        while ( len-- ) datas[ len ] = arguments[ len ];\n\n    datas.forEach(function (data){\n\n        var next = this$1.tree;\n        var list = data.split('');\n\n        list.forEach(function (ch){\n            var key = ch.toLowerCase();\n            next = (next.branches[key] = next.branches[key] || Object.create(null));\n            next.branches = next.branches || Object.create(null);\n            next.items = next.items || [];\n            next.items.push(data);\n            next.value = ch;\n        });\n\n        next.leaf = true;\n    });\n};\nCharTree.prototype.remove = function remove (){\n        var this$1 = this;\n        var datas = [], len = arguments.length;\n        while ( len-- ) datas[ len ] = arguments[ len ];\n\n    datas.forEach(function (data){\n        var next = this$1.tree, last;\n        var list = data.split('');\n\n        for(var i=0; i<list.length; i++){\n            var char = list[i];\n            var key = char.toLowerCase();\n            var index = (void 0);\n\n            last = next;\n            next = next.branches[key];\n\n            if(next === void 0) { break; }\n\n            if((index = next.items.indexOf(data.value)) !== -1){\n                next.items.splice(index, 1);\n                if(!next.items.length){\n                    delete last.branches[key];\n                }else{\n                    next = next.branches[key];\n                }\n            }\n\n        }\n    });\n};\nCharTree.prototype.match = function match (value){\n    var list = value.split('').map(function (v){ return v.toLowerCase(); });\n\n    var next = this.tree,\n        len = list.length + 1,\n        last,\n        string = '';\n\n    if(!list.length) { return {tree: null, string: string, value: value}; }\n\n    for(var i=0; i<len; i++){\n        last = next;\n        next = next.branches[list[i]];\n        if(!next){\n            if(list[i] !== void 0) { last = null; }\n            break;\n        }else{\n            string += next.value;\n        }\n    }\n\n    return {tree: last, string: string, value: value};\n};\nCharTree.prototype.findAll = function findAll (value){\n    var ref = this.match(value);\n        var tree = ref.tree;\n    if(!tree) { return []; }\n    return [].concat(tree.items);\n};\nCharTree.prototype.nextPhrase = function nextPhrase (value, sep){\n\n    var ref = this.match(value);\n        var tree = ref.tree;\n        var string = ref.string;\n        var result = string;\n\n    var iter = function (next){\n\n        if(next.leaf){\n            return result;\n        }\n\n        var keys = Object.keys(next.branches);\n        for(var key in next.branches){\n            if(sep.test(key)){\n                return result + key;\n            }\n            result += next.branches[key].value;\n            return iter(next.branches[key])\n\n        }\n    };\n\n    return iter(tree);\n};\n\nfunction charTreeMixin(dest){\n    return objectAssign(dest, {\n        nextPhrase: function nextPhrase(value, sep){\n            return this.charTree.nextPhrase(value, sep);\n        },\n        match: function match(value){\n            if ( value === void 0 ) value = '';\n\n            return this.charTree.match(value);\n        },\n        findAll: function findAll(value){\n            return this.charTree.findAll(value);\n        },\n        push: function push(){\n            var this$1 = this;\n            var values = [], len = arguments.length;\n            while ( len-- ) values[ len ] = arguments[ len ];\n\n            values.forEach(function (value){\n                this$1.charTree.push(value);\n            });\n            return this;\n        },\n        pushAll: function pushAll(values){\n            (ref = this.charTree).push.apply(ref, values);\n            var ref;\n        },\n        empty: function empty(){\n            this.charTree.empty();\n            return this;\n        },\n        initCharTree: function initCharTree(){\n            return this.charTree = new CharTree();\n        }\n    });\n}\n\nexport { CharTree, charTreeMixin };\n//# sourceMappingURL=bundle.es.js.map\n","function isElement(o){\n    var type = typeof Element; //HTMLElement maybe\n    return (\n    type === \"object\" || type === 'function'\n    ? o instanceof Element\n    //DOM2\n    : !!o\n        && typeof o === \"object\"\n        && o.nodeType === 1 //Definitely an Element\n        && typeof o.nodeName===\"string\"\n    );\n}\n\nexport default isElement;\n//# sourceMappingURL=bundle.es.js.map\n","import isElement from 'dom-is-element';\n\nfunction getElement(element, context){\n    if ( context === void 0 ) context = document;\n\n    if(typeof element === 'string'){\n        try{\n            return context.querySelector(element);\n        }catch(e){ throw e; }\n    }\n\n    if(isElement(element)) { return element; }\n\n    if(!!element && typeof element === 'object'){\n        if(isElement(element.element)){\n            return element.element;\n        }else if(isElement(element[0])){\n            return element[0];\n        }\n    }\n\n    throw new TypeError((\"value (\" + element + \") in isElement(value)\\n    is not an element, valid css selector,\\n    or object with an element property, or index 0.\"));\n\n}\n\nexport default getElement;\n//# sourceMappingURL=bundle.es.js.map\n","var createEvent = (function (){\n    try{\n        new Event('nothing');\n        return function (name, options) { return new Event(name, options); };\n    }catch(e){}\n\n    return function (name, options) {\n        var event = document.createEvent('Event');\n        event.initEvent(name, options.bubbles, options.cancelable);\n        return event;\n    };\n})();\n\nfunction dispatchEvent(el, name, options){\n    if ( options === void 0 ) options = {};\n\n    var event = createEvent(name, options);\n    return !el.dispatchEvent(event);\n}\n\nexport { dispatchEvent };\n//# sourceMappingURL=bundle.es.js.map\n","import getElement from 'dom-get-element';\nimport { dispatchEvent } from 'dom-event-dispatch';\n\nfunction toggleMixin(dest){\n\n    dest.initToggle = function(ref){\n        if ( ref === void 0 ) ref = {};\n        var toggle = ref.toggle; if ( toggle === void 0 ) toggle = null;\n        var display = ref.display; if ( display === void 0 ) display = 'block';\n        var element = ref.element; if ( element === void 0 ) element = null;\n\n        this._toggle = toggle;\n        this._display = display;\n        if(element)\n            { this.element = getElement(element); }\n    };\n\n    dest.toggleDisplay = function(show){\n        return toggleDisplay(this, show, this._display);\n    };\n\n    dest.toggle = function(show){\n        var this$1 = this;\n\n        if(yesToggle(this, show)){\n\n            var cancelled = dispatchEvent(this.element, 'beforetoggled', {\"bubbles\":false, \"cancelable\":true});\n\n            if(cancelled){\n                return Promise.resolve(getDisplay(this.element) !== 'none');\n            }\n\n            if(!this._toggle){\n                return Promise.resolve(\n                    this.toggleDisplay(show)\n                );\n            }\n\n            return Promise.resolve(this._toggle.call(this, !!show))\n            .then(function (){ return this$1.toggleDisplay(show); });\n        }\n\n        return Promise.resolve(getDisplay(this.element) !== 'none');\n    };\n}\n\nfunction yesToggle(that, show){\n\n    if(show === void 0) { return true }\n    {\n        var display = getDisplay(that.element);\n        return (\n            show && display === 'none'\n            ||\n            !show && display !== 'none'\n        );\n    }\n}\n\nfunction toggleDisplay(that, show, display){\n    if(show === void 0){\n        var current = getDisplay(that.element);\n        that.element.style.display = (\n            display = current === 'none'\n            ? display : 'none'\n        );\n\n        show = display !== 'none';\n    }else{\n        that.element.style.display = show ? display : 'none';\n    }\n\n    dispatchEvent(that.element, 'toggled', {\"bubbles\":false});\n\n    return show;\n}\n\nfunction getDisplay(el){\n    if(!el.style.display){\n        var style = window.getComputedStyle(el, null);\n        return style.display;\n    }else{\n        return el.style.display;\n    }\n}\n\nexport { toggleMixin };\n//# sourceMappingURL=bundle.es.js.map\n","import { charTreeMixin } from 'char-tree';\nimport getElement from 'dom-get-element';\nimport { toggleMixin } from 'dom-toggle-mixin';\n\nexport class DataFilter {\n    constructor(element, {\n        value = '',\n        display = 'block',\n        read = null,\n        toggle = null,\n        autoToggle = true,\n        render = function(v){ return v + ''; }\n    } = {}){\n\n        this.element = getElement(element);\n        this.value = value;\n        this.autoToggle = autoToggle;\n        this.initCharTree();\n        this.initToggle({display, toggle});\n\n        if(autoToggle){\n            this.toggleDisplay(this.element.children.length);\n        }\n\n        if(typeof read === 'function'){\n            this._read = function(){\n                return Promise.resolve(read.call(this));\n            };\n        }else{\n            this._read = function(){\n                return Promise.resolve();\n            };\n        }\n\n        if(typeof render !== 'function'){\n            throw new TypeError(render + ' is not a function.');\n        }\n\n        this._render = render;\n    }\n    update(value){\n        return this._read().then(()=>{\n            const el = this.element;\n            const found = this.findAll(value);\n            this.value = value;\n\n            el.innerHTML = '';\n            found.forEach(data=>{\n                let html = this._render(data);\n                el.insertAdjacentHTML(\n                    'beforeend',\n                    html\n                );\n            });\n\n            if(this.autoToggle)\n                return this.toggle(found.length).then(()=>found);\n            return found;\n        });\n    }\n    readNext(value, sep){\n        return this.update(value)\n        .then(found=>{\n            return this.nextPhrase(value, sep)\n            .then(val=>(this.value = val));\n        });\n    }\n}\n\ncharTreeMixin(DataFilter.prototype);\ntoggleMixin(DataFilter.prototype);\n"],"names":["arguments","this"],"mappings":"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"}